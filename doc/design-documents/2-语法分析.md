# 语法分析

## 最初设计

封装`Parser`类，内置`Lexer`类，不断调用`next_sym()`方法，从源代码中获取token，进行预读-分支处理。

将每个非终结符的解析作为一个函数，进行递归向下分析。

还要设计错误处理函数，当无法向下解析时，向输出流报错。

## 修改情况

基本没有修改。

主要和构想有差距的，就是错误处理的情况。

错误处理进行进一步封装。

新建`ErrorHandler`类，为其**挂载**一个输出流，内置向流输出的各种函数。

然后，再将`ErrorHandler`作为`Parser`类的成员变量，`Parser`内部实现`handle_error()`函数，每当解析到不符合预期的输入，就调用`error_handler()` 方法。